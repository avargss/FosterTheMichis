<!-- src/app/components/header/header.component.html -->

<header>
    <div>
        <a routerLink="/">
            <img src="./assets/logo-ftm.png" alt="Logo FTM" class="logo" />
        </a>
    </div>

    <div class="header-background">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
            <path fill="rgba(255,255,255,0.25)" fill-opacity="1"
                d="M0,192L48,176C96,160,192,128,288,144C384,160,480,224,576,261.3C672,299,768,309,864,277.3C960,245,1056,171,1152,160C1248,149,1344,203,1392,229.3L1440,256L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z">
            </path>
        </svg>
    </div>

    <button class="menu-toggle" type="button" aria-label="Toggle navigation"
        [attr.aria-expanded]="isMenuOpen ? 'true' : 'false'" [attr.aria-controls]="'nav-items'" (click)="toggleMenu()">
        <i class="bi bi-list"></i>
    </button>

    <!-- Navegación principal -->
    <nav id="nav-items" class="nav-items" [class.open]="isMenuOpen" role="navigation">
        <a class="links" routerLink="/menu">{{ 'COMMON.MENU' | translate }}</a>
        <a class="links" routerLink="/galeria">{{ 'COMMON.GALLERY' | translate }}</a>
        <a class="links" routerLink="/adopcion">{{ 'COMMON.ADOPTION' | translate }}</a>
        <a class="links" routerLink="/reservas">{{ 'COMMON.RESERVATIONS' | translate }}</a>
        <a class="links" routerLink="/contacto">{{ 'COMMON.CONTACT' | translate }}</a>

        <!-- Selector de idioma -->
        <div class="dropdown">
            <a class="icon-language links dropdown-toggle" id="languageDropdown" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                <i class="bi bi-globe"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="languageDropdown">
                <li>
                    <button type="button" class="dropdown-item" (click)="changeLanguage('es')">
                        {{ 'COMMON.SPANISH' | translate }}
                        <span *ngIf="currentLang === 'es'">✔</span>
                    </button>
                </li>
                <li>
                    <button type="button" class="dropdown-item" (click)="changeLanguage('en')">
                        {{ 'COMMON.ENGLISH' | translate }}
                        <span *ngIf="currentLang === 'en'">✔</span>
                    </button>
                </li>
            </ul>
        </div>

        <!-- Dropdown para usuario -->
        <div class="dropdown">
            <a class="user-icon" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <img src="/user_icon.jpg" alt="Usuario" class="user-icon" />
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                <li *ngIf="!isLoggedIn">
                    <a class="dropdown-item" routerLink="/register">{{ 'COMMON.REGISTER' | translate }}</a>
                </li>
                <li *ngIf="!isLoggedIn">
                    <a class="dropdown-item" routerLink="/login">{{ 'COMMON.LOGIN' | translate }}</a>
                </li>
                <li *ngIf="isLoggedIn">
                    <a class="dropdown-item" routerLink="/gestion">{{ 'COMMON.MANAGE' | translate }}</a>
                </li>
                <li *ngIf="isLoggedIn">
                    <a class="dropdown-item" (click)="logout()">{{ 'COMMON.LOGOUT' | translate }}</a>
                </li>
            </ul>
        </div>
    </nav>
</header>